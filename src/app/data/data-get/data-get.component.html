<div class="spacer"></div>

<div *ngIf="error; else content">
  <p>
    <i class="bi bi-exclamation-triangle-fill text-danger"></i>
    {{ error }}
  </p>
</div>

<ng-template #content>
  <div *ngIf="!selectedPost">
    <h3><i class="bi bi-file-earmark-text"></i> Posts</h3>
    <ul class="list-group">
      <li *ngFor="let post of posts" class="list-group-item">
        <i class="bi bi-file-earmark-text"></i>
        <strong>{{ post.title }}</strong>
        <button
          (click)="openModal(post.id)"
          class="btn btn-info btn-sm float-end"
        >
          <i class="bi bi-eye"></i> View Details
        </button>
        <button
          (click)="deletePost(post.id)"
          class="btn btn-danger btn-sm float-end me-2"
        >
          <i class="bi bi-trash"></i> Delete
        </button>
        <button
          (click)="updatePost(post)"
          class="btn btn-warning btn-sm float-end me-2"
        >
          <i class="bi bi-pencil"></i> Update
        </button>
      </li>
    </ul>
  </div>

  <div *ngIf="showModal" class="modal">
    <div class="modal-content">
      <span class="close" (click)="closeModal()">
        <i class="bi bi-x-circle"></i>
      </span>
      <h2><i class="bi bi-file-earmark-text"></i> {{ selectedPost?.title }}</h2>
      <p>{{ selectedPost?.body }}</p>
      <h3><i class="bi bi-chat-dots"></i> Commentaires :</h3>
      <ul>
        <li *ngFor="let comment of comments">
          <i class="bi bi-person"></i> <strong>{{ comment.name }}:</strong>
          {{ comment.body }}
        </li>
      </ul>
    </div>
  </div>
</ng-template>
